(self.webpackChunknewton_school_web=self.webpackChunknewton_school_web||[]).push([[70878],{"+9CB":e=>{"use strict";var t=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return r=r>=0?r:0,(16&e[t+5])>>4?r+20:r+10},a=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=r(e,t),a(e,t))},i=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=a(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:r,parseAdtsSize:function(e,t){var r=(224&e[t+5])>>5,a=e[t+4]<<3;return 6144&e[t+3]|a|r},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var r=0;r+5<e.length;){if(255===e[r]&&240===(246&e[r+1]))return t[(60&e[r+2])>>>2];r++}return null},parseAacTimestamp:function(e){var t,r,a;t=10,64&e[5]&&(t+=4,t+=i(e.subarray(10,14)));do{if((r=i(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){a=e.subarray(t+10,t+r+10);for(var n=0;n<a.byteLength;n++)if(0===a[n]){var s=unescape(function(e,t,r){var a,i="";for(a=t;a<r;a++)i+="%"+("00"+e[a].toString(16)).slice(-2);return i}(a,0,n));if("com.apple.streaming.transportStreamTimestamp"===s){var o=a.subarray(n+1),u=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return u*=4,u+=3&o[7]}break}}t+=10,t+=r}while(t<e.byteLength);return null}}},Qj6V:(e,t,r)=>{"use strict";var a=r("rnXk"),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},n=function(e){return!!(64&e[1])},s=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},o=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var r=i(e);return 0===r?"pat":r===t?"pmt":t?"pes":null},parsePat:function(e){var t=n(e),r=4+s(e);return t&&(r+=e[r]+1),(31&e[r+10])<<8|e[r+11]},parsePmt:function(e){var t={},r=n(e),a=4+s(e);if(r&&(a+=e[a]+1),1&e[a+5]){var i;i=3+((15&e[a+1])<<8|e[a+2])-4;for(var o=12+((15&e[a+10])<<8|e[a+11]);o<i;){var u=a+o;t[(31&e[u+1])<<8|e[u+2]]=e[u],o+=5+((15&e[u+3])<<8|e[u+4])}return t}},parsePayloadUnitStartIndicator:n,parsePesType:function(e,t){switch(t[i(e)]){case a.H264_STREAM_TYPE:return"video";case a.ADTS_STREAM_TYPE:return"audio";case a.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!n(e))return null;var t=4+s(e);if(t>=e.byteLength)return null;var r,a=null;return 192&(r=e[t+7])&&((a={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,a.pts*=4,a.pts+=(6&e[t+13])>>>1,a.dts=a.pts,64&r&&(a.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,a.dts*=4,a.dts+=(6&e[t+18])>>>1)),a},videoPacketContainsKeyFrame:function(e){for(var t=4+s(e),r=e.subarray(t),a=0,i=0,n=!1;i<r.byteLength-3;i++)if(1===r[i+2]){a=i+5;break}for(;a<r.byteLength;)switch(r[a]){case 0:if(0!==r[a-1]){a+=2;break}if(0!==r[a-2]){a++;break}i+3!==a-2&&"slice_layer_without_partitioning_rbsp_idr"===o(31&r[i+3])&&(n=!0);do{a++}while(1!==r[a]&&a<r.length);i=a-2,a+=3;break;case 1:if(0!==r[a-1]||0!==r[a-2]){a+=3;break}"slice_layer_without_partitioning_rbsp_idr"===o(31&r[i+3])&&(n=!0),i=a-2,a+=3;break;default:a+=3}return r=r.subarray(i),a-=i,i=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===o(31&r[i+3])&&(n=!0),n}}},rnXk:e=>{"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},"JW/Y":(e,t,r)=>{"use strict";var a=r("QykG"),i="shared",n=function(e,t){var r=1;for(e>t&&(r=-1);Math.abs(t-e)>4294967296;)e+=8589934592*r;return e},s=function(e){var t,r;s.prototype.init.call(this),this.type_=e||i,this.push=function(e){this.type_!==i&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=n(e.dts,r),e.pts=n(e.pts,r),t=e.dts,this.trigger("data",e))},this.flush=function(){r=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};s.prototype=new a,e.exports={TimestampRolloverStream:s,handleRollover:n}},FflX:(e,t,r)=>{var a=r("f+Ey").toUnsigned,i=r("jv9p"),n=function(e,t){var r,s,o,u,f,d=[];if(!t.length)return null;for(r=0;r<e.byteLength;)s=a(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),o=i(e.subarray(r+4,r+8)),u=s>1?r+s:e.byteLength,o===t[0]&&(1===t.length?d.push(e.subarray(r+8,u)):(f=n(e.subarray(r+8,u),t.slice(1))).length&&(d=d.concat(f))),r=u;return d};e.exports=n},jv9p:e=>{e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}},KAYj:(e,t,r)=>{"use strict";var a,i,n,s,o,u,f=r("f+Ey").toUnsigned,d=r("f+Ey").toHexString,c=r("FflX"),p=r("jv9p"),l=r("yqws"),h=r("ii1t"),g=r("29xw");a=function(e){return c(e,["moov","trak"]).reduce((function(e,t){var r,a,i,n,s;return(r=c(t,["tkhd"])[0])?(a=r[0],n=f(r[i=0===a?12:20]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),(s=c(t,["mdia","mdhd"])[0])?(i=0===(a=s[0])?12:20,e[n]=f(s[i]<<24|s[i+1]<<16|s[i+2]<<8|s[i+3]),e):null):null}),{})},i=function(e,t){var r,a,i;return r=c(t,["moof","traf"]),a=[].concat.apply([],r.map((function(t){return c(t,["tfhd"]).map((function(r){var a,i,n;return a=f(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),i=e[a]||9e4,n=c(t,["tfdt"]).map((function(e){var t,r;return t=e[0],r=f(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(r*=Math.pow(2,32),r+=f(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),r}))[0],(n=n||1/0)/i}))}))),i=Math.min.apply(null,a),isFinite(i)?i:0},n=function(e,t){var r,a=c(t,["moof","traf"]),i=0,n=0;if(a&&a.length){var s=c(a[0],["tfhd"])[0],o=c(a[0],["trun"])[0],u=c(a[0],["tfdt"])[0];if(s)r=l(s).trackId;if(u)i=g(u).baseMediaDecodeTime;if(o){var f=h(o);f.samples&&f.samples.length&&(n=f.samples[0].compositionTimeOffset||0)}}return(i+n)/(e[r]||9e4)},s=function(e){var t=c(e,["moov","trak"]),r=[];return t.forEach((function(e){var t=c(e,["mdia","hdlr"]),a=c(e,["tkhd"]);t.forEach((function(e,t){var i,n,s=p(e.subarray(8,12)),o=a[t];"vide"===s&&(n=0===(i=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),r.push(n))}))})),r},u=function(e){var t=0===e[0]?12:20;return f(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},o=function(e){var t=c(e,["moov","trak"]),r=[];return t.forEach((function(e){var t,a,i={},n=c(e,["tkhd"])[0];n&&(a=(t=new DataView(n.buffer,n.byteOffset,n.byteLength)).getUint8(0),i.id=0===a?t.getUint32(12):t.getUint32(20));var s=c(e,["mdia","hdlr"])[0];if(s){var o=p(s.subarray(8,12));i.type="vide"===o?"video":"soun"===o?"audio":o}var f=c(e,["mdia","minf","stbl","stsd"])[0];if(f){var l=f.subarray(8);i.codec=p(l.subarray(4,8));var h,g=c(l,[i.codec])[0];g&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(h=g.subarray(78),"avcC"===p(h.subarray(4,8))&&h.length>11?(i.codec+=".",i.codec+=d(h[9]),i.codec+=d(h[10]),i.codec+=d(h[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(h=g.subarray(28),"esds"===p(h.subarray(4,8))&&h.length>20&&0!==h[19]?(i.codec+="."+d(h[19]),i.codec+="."+d(h[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"))}var y=c(e,["mdia","mdhd"])[0];y&&(i.timescale=u(y)),r.push(i)})),r},e.exports={findBox:c,parseType:p,timescale:a,startTime:i,compositionStartTime:n,videoTrackIds:s,tracks:o,getTimescaleFromMediaHeader:u}},zyNV:e=>{e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},gcCN:e=>{e.exports=function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8),earliestPresentationTime:r.getUint32(12),firstOffset:r.getUint32(16)},i=r.getUint16(22);for(t=24;i;t+=12,i--)a.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&r.getUint32(t),subsegmentDuration:r.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&r.getUint32(t+8)});return a}},"29xw":(e,t,r)=>{var a=r("f+Ey").toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:a(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=a(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},yqws:e=>{e.exports=function(e){var t,r=new DataView(e.buffer,e.byteOffset,e.byteLength),a={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:r.getUint32(4)},i=1&a.flags[2],n=2&a.flags[2],s=8&a.flags[2],o=16&a.flags[2],u=32&a.flags[2],f=65536&a.flags[0],d=131072&a.flags[0];return t=8,i&&(t+=4,a.baseDataOffset=r.getUint32(12),t+=4),n&&(a.sampleDescriptionIndex=r.getUint32(t),t+=4),s&&(a.defaultSampleDuration=r.getUint32(t),t+=4),o&&(a.defaultSampleSize=r.getUint32(t),t+=4),u&&(a.defaultSampleFlags=r.getUint32(t)),f&&(a.durationIsEmpty=!0),!i&&d&&(a.baseDataOffsetIsMoof=!0),a}},ii1t:(e,t,r)=>{var a=r("zyNV");e.exports=function(e){var t,r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),n=1&r.flags[2],s=4&r.flags[2],o=1&r.flags[1],u=2&r.flags[1],f=4&r.flags[1],d=8&r.flags[1],c=i.getUint32(4),p=8;for(n&&(r.dataOffset=i.getInt32(p),p+=4),s&&c&&(t={flags:a(e.subarray(p,p+4))},p+=4,o&&(t.duration=i.getUint32(p),p+=4),u&&(t.size=i.getUint32(p),p+=4),d&&(1===r.version?t.compositionTimeOffset=i.getInt32(p):t.compositionTimeOffset=i.getUint32(p),p+=4),r.samples.push(t),c--);c--;)t={},o&&(t.duration=i.getUint32(p),p+=4),u&&(t.size=i.getUint32(p),p+=4),f&&(t.flags=a(e.subarray(p,p+4)),p+=4),d&&(1===r.version?t.compositionTimeOffset=i.getInt32(p):t.compositionTimeOffset=i.getUint32(p),p+=4),r.samples.push(t);return r}},"3D7k":(e,t,r)=>{"use strict";var a=r("rnXk"),i=r("JW/Y").handleRollover,n={};n.ts=r("Qj6V"),n.aac=r("+9CB");var s=r("NsZL").ONE_SECOND_IN_TS,o=188,u=71,f=function(e,t,r){for(var a,i,s,f,d=0,c=o,p=!1;c<=e.byteLength;)if(e[d]!==u||e[c]!==u&&c!==e.byteLength)d++,c++;else{if(a=e.subarray(d,c),"pes"===n.ts.parseType(a,t.pid))i=n.ts.parsePesType(a,t.table),s=n.ts.parsePayloadUnitStartIndicator(a),"audio"===i&&s&&(f=n.ts.parsePesTime(a))&&(f.type="audio",r.audio.push(f),p=!0);if(p)break;d+=o,c+=o}for(d=(c=e.byteLength)-o,p=!1;d>=0;)if(e[d]!==u||e[c]!==u&&c!==e.byteLength)d--,c--;else{if(a=e.subarray(d,c),"pes"===n.ts.parseType(a,t.pid))i=n.ts.parsePesType(a,t.table),s=n.ts.parsePayloadUnitStartIndicator(a),"audio"===i&&s&&(f=n.ts.parsePesTime(a))&&(f.type="audio",r.audio.push(f),p=!0);if(p)break;d-=o,c-=o}},d=function(e,t,r){for(var a,i,s,f,d,c,p,l=0,h=o,g=!1,y={data:[],size:0};h<e.byteLength;)if(e[l]!==u||e[h]!==u)l++,h++;else{if(a=e.subarray(l,h),"pes"===n.ts.parseType(a,t.pid))if(i=n.ts.parsePesType(a,t.table),s=n.ts.parsePayloadUnitStartIndicator(a),"video"===i&&(s&&!g&&(f=n.ts.parsePesTime(a))&&(f.type="video",r.video.push(f),g=!0),!r.firstKeyFrame)){if(s&&0!==y.size){for(d=new Uint8Array(y.size),c=0;y.data.length;)p=y.data.shift(),d.set(p,c),c+=p.byteLength;if(n.ts.videoPacketContainsKeyFrame(d)){var m=n.ts.parsePesTime(d);m?(r.firstKeyFrame=m,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}y.size=0}y.data.push(a),y.size+=a.byteLength}if(g&&r.firstKeyFrame)break;l+=o,h+=o}for(l=(h=e.byteLength)-o,g=!1;l>=0;)if(e[l]!==u||e[h]!==u)l--,h--;else{if(a=e.subarray(l,h),"pes"===n.ts.parseType(a,t.pid))i=n.ts.parsePesType(a,t.table),s=n.ts.parsePayloadUnitStartIndicator(a),"video"===i&&s&&(f=n.ts.parsePesTime(a))&&(f.type="video",r.video.push(f),g=!0);if(g)break;l-=o,h-=o}},c=function(e){var t={pid:null,table:null},r={};for(var i in function(e,t){for(var r,a=0,i=o;i<e.byteLength;)if(e[a]!==u||e[i]!==u)a++,i++;else{switch(r=e.subarray(a,i),n.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=n.ts.parsePat(r));break;case"pmt":t.table||(t.table=n.ts.parsePmt(r))}if(t.pid&&t.table)return;a+=o,i+=o}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case a.H264_STREAM_TYPE:r.video=[],d(e,t,r),0===r.video.length&&delete r.video;break;case a.ADTS_STREAM_TYPE:r.audio=[],f(e,t,r),0===r.audio.length&&delete r.audio}}return r};e.exports={inspect:function(e,t){var r;return r=n.aac.isLikelyAacData(e)?function(e){for(var t,r=!1,a=0,i=null,o=null,u=0,f=0;e.length-f>=3;){switch(n.aac.parseType(e,f)){case"timed-metadata":if(e.length-f<10){r=!0;break}if((u=n.aac.parseId3TagSize(e,f))>e.length){r=!0;break}null===o&&(t=e.subarray(f,f+u),o=n.aac.parseAacTimestamp(t)),f+=u;break;case"audio":if(e.length-f<7){r=!0;break}if((u=n.aac.parseAdtsSize(e,f))>e.length){r=!0;break}null===i&&(t=e.subarray(f,f+u),i=n.aac.parseSampleRate(t)),a++,f+=u;break;default:f++}if(r)return null}if(null===i||null===o)return null;var d=s/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*a*d,pts:o+1024*a*d}]}}(e):c(e),r&&(r.audio||r.video)?(function(e,t){if(e.audio&&e.audio.length){var r=t;"undefined"===typeof r&&(r=e.audio[0].dts),e.audio.forEach((function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/s,e.ptsTime=e.pts/s}))}if(e.video&&e.video.length){var a=t;if("undefined"===typeof a&&(a=e.video[0].dts),e.video.forEach((function(e){e.dts=i(e.dts,a),e.pts=i(e.pts,a),e.dtsTime=e.dts/s,e.ptsTime=e.pts/s})),e.firstKeyFrame){var n=e.firstKeyFrame;n.dts=i(n.dts,a),n.pts=i(n.pts,a),n.dtsTime=n.dts/s,n.ptsTime=n.dts/s}}}(r,t),r):null},parseAudioPes_:f}},"f+Ey":e=>{e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},NsZL:e=>{var t,r,a,i,n,s,o,u=9e4;t=function(e){return e*u},r=function(e,t){return e*t},a=function(e){return e/u},i=function(e,t){return e/t},n=function(e,r){return t(i(e,r))},s=function(e,t){return r(a(e),t)},o=function(e,t,r){return a(r?e:e-t)},e.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:t,secondsToAudioTs:r,videoTsToSeconds:a,audioTsToSeconds:i,audioTsToVideoTs:n,videoTsToAudioTs:s,metadataTsToSeconds:o}},QykG:e=>{"use strict";var t=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t]=e[t].concat(r)},this.off=function(t,r){var a;return!!e[t]&&(a=e[t].indexOf(r),e[t]=e[t].slice(),e[t].splice(a,1),a>-1)},this.trigger=function(t){var r,a,i,n;if(r=e[t])if(2===arguments.length)for(i=r.length,a=0;a<i;++a)r[a].call(this,arguments[1]);else{for(n=[],a=arguments.length,a=1;a<arguments.length;++a)n.push(arguments[a]);for(i=r.length,a=0;a<i;++a)r[a].apply(this,n)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)},e.exports=t}}]);